<div class="container sub-container scroll">
    <div class="sub-container-head">
        <h1 class="subpage-title">자산 현황</h1>
        <p class="subpage-text">
            ※ 자산현황은 등록된 거래소 API 기준으로 정보를 제공합니다.<br> ※ 소액 자산 구분없이 API에서 제공하는 모든 자산 정보를 제공합니다.
        </p>
    </div>
    <div class="contentsArea">
        <div class="wallet">
            <ul class="nav tabNav tit-head" id="pills-tab" role="tablist">
                <li role="presentation">
                    <a class="active" id="bithumb-tab" data-toggle="pill" href="#bithumb" role="tab" aria-controls="bithumb" aria-selected="true">빗썸</a>
                </li>
                <li role="presentation">
                    <a id="upbit-tab" data-toggle="pill" href="#upbit" role="tab" aria-controls="upbit" aria-selected="flase">업비트</a>
                </li>
                <li role="presentation">
                    <a id="coinone-tab" data-toggle="pill" href="#coinone" role="tab" aria-controls="coinone" aria-selected="flase">코인원</a>
                </li>
                <li role="presentation">
                    <a id="korbit-tab" data-toggle="pill" href="#korbit" role="tab" aria-controls="korbit" aria-selected="flase">코빗</a>
                </li>
            </ul>
            <div class="tit-head">
                <div>
                    <div class="select" data-role="selectBox">
                        <span date-value="optValue" class="selected-option">API 선택</span>
                        <ul class="hide">
                            <li><span class="api-bithumb">빗썸</span> API별칭1</li>
                            <li><span class="api-bithumb">빗썸</span> API별칭2</li>
                            <li><span class="api-bithumb">빗썸</span> API별칭3</li>
                        </ul>
                    </div>
                    <button class="small-btn line-btn link-btn ml10">API 등록</button>
                </div>
                <div class="flex-end-baseline">
                    <p class="mr20">총 보유자산</p>
                    <p class="point-font mr10">1,000,000,000</p>
                    <p class="mr10">KRW</p>
                    <button class="refresh-btn"><img src="./asset/img/svg/refresh.svg" alt="운영 가능 자산 업데이트"></button>
                </div>
            </div>

            <div class="tab-content" id="pills-tabContent">
                <!-- 빗썸 API 자산현황 -->
                <div class="tab-pane fade active show" role="tabpanel" id="bithumb" aria-labelledby="bithumb-tab">
                    <table class="mobile-hidden">
                        <thead>
                            <tr>
                                <th>자산 구분</th>
                                <th>보유 잔고</th>
                                <th>사용 중</th>
                                <th>사용 가능</th>
                                <th>평가 금액 (KRW)</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>원화 (KRW)</td>
                                <td>78,658,201</td>
                                <td>0</td>
                                <td>8,658,201</td>
                                <td>70,000,000</td>
                            </tr>
                            <tr>
                                <td>ETH</td>
                                <td>3.258416</td>
                                <td>2.0000000</td>
                                <td>1.258416</td>
                                <td>3,258,416</td>
                            </tr>
                            <tr>
                                <td>BTC</td>
                                <td>1.258416</td>
                                <td>1.0000000</td>
                                <td>0.258416</td>
                                <td>1,258,416</td>
                            </tr>
                        </tbody>
                    </table>
                    <ul class="pc-hidden">
                        <li>
                            <h2>원화 (KRW)</h2>
                            <p>보유 잔고<span>8,658,201</span></p>
                            <p>사용 중<span>0</span></p>
                            <p>사용 가능<span>8,658,201</span></p>
                            <p>평가 금액 (KRW)<span>8,658,201</span></p>
                        </li>
                        <li>
                            <h2>ETH</h2>
                            <p>보유 잔고<span>3.258416</span></p>
                            <p>사용 중<span>2.0000000</span></p>
                            <p>사용 가능<span>1.258416</span></p>
                            <p>평가 금액 (KRW)<span>3,258,416</span></p>
                        </li>
                        <li>
                            <h2>BTC</h2>
                            <p>보유 잔고<span>1.258416</span></p>
                            <p>사용 중<span>1.0000000</span></p>
                            <p>사용 가능<span>0.258416</span></p>
                            <p>평가 금액 (KRW)<span>1,258,416</span></p>
                        </li>
                    </ul>
                </div>
                <!-- //빗썸 API 자산현황 -->
            </div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function() {
        //tab 메뉴
        var li_max = 100 / $(".tabNav li").length;
        $(".tabNav li").css("width", li_max + "%");

        //selectBox
        const body = document.querySelector('body');
        const select = document.querySelector(`[data-role="selectBox"]`);
        const values = select.querySelector(`[date-value="optValue"]`);
        const option = select.querySelector('ul');
        const opts = option.querySelectorAll('li');

        /* 셀렉트영역 클릭 시 옵션 숨기기, 보이기 */
        function selects(e) {
            e.stopPropagation();
            option.setAttribute('style', `top:${select.offsetHeight}px`)
            if (option.classList.contains('hide')) {
                option.classList.remove('hide');
                option.classList.add('show');
            } else {
                option.classList.add('hide');
                option.classList.remove('show');
            }
            selectOpt();
        }

        /* 옵션선택 */
        function selectOpt() {
            opts.forEach(opt => {
                const innerValue = opt.innerHTML;

                function changeValue() {
                    values.innerHTML = innerValue;
                }
                opt.addEventListener('click', changeValue)
            });
        }

        /* 렌더링 시 옵션의 첫번째 항목 기본 선택 */
        function selectFirst() {
            const firstValue = opts[0].innerHTML;
            values.innerHTML = `${firstValue}`
        }

        /* 옵션밖의 영역(=바디) 클릭 시 옵션 숨김 */
        function hideSelect() {
            if (option.classList.contains('show')) {
                option.classList.add('hide');
                option.classList.remove('show');
            }
        }

        selectFirst();
        select.addEventListener('click', selects);
        body.addEventListener('click', hideSelect);
    });
</script>